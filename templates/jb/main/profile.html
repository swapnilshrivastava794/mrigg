{% extends 'base.html' %}
{% load static %}
{% block body %}
<div class="container mt-5">
    <h2 class="mb-4 text-center">Your Profile</h2>

    {% if user %}
    <div class="row justify-content-center align-items-start">
        <!-- Profile Image -->
        <div class="col-md-3 text-center">
            {% if user.profile_image %}
                <img src="{{ user.profile_image.url }}" class="img-fluid rounded-circle shadow" style="width: 180px;" alt="Profile Image">
            {% else %}
                <img src="{% static 'default-profile.png' %}" class="img-fluid rounded-circle shadow" style="width: 180px;" alt="Default Profile">
            {% endif %}
        </div>

        <!-- User Details -->
        <div class="col-md-8">
            <table class="table table-striped table-bordered">
                <tbody>
                    <tr><th>Username</th><td>{{ user.username }}</td></tr>
                    <tr><th>Email</th><td>{{ user.email }}</td></tr>
                    <tr><th>Mobile</th><td>{{ user.mobile }}</td></tr>
                    <tr><th>Role</th><td>{{ user.role|title }}</td></tr>
                    <tr><th>Date of Birth</th><td>{{ user.date_of_birth|date:"F d, Y"|default:"—" }}</td></tr>
                    <tr><th>Gender</th><td>{{ user.gender|title|default:"—" }}</td></tr>
                    <tr>
                        <th>Address</th>
                        <td>
                            {{ user.address_line1|default:"" }}<br>
                            {{ user.address_line2|default:"" }}<br>
                            {{ user.city|default:"" }}, {{ user.state|default:"" }}<br>
                            {{ user.country|default:"" }} - {{ user.zip_code|default:"" }}
                        </td>
                    </tr>
                </tbody>
            </table>
           <div class="text-end mt-2">
                <a href="{% url 'order_history' %}" class="btn btn-outline-primary">
                    <i class="bi bi-box-seam"></i> View Your Order History
                </a>
            </div>
        </div>
    </div>
    {% else %}
        <div class="alert alert-danger text-center">User not found or not logged in.</div>
    {% endif %}
</div>
{% endblock %}
